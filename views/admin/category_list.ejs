<%- include("navbar") %>

<div class="container my-4">
    <div class="card shadow border-0">
        <!-- Header -->
        <div class="card-header text-white d-flex justify-content-between align-items-center" style="
            background: linear-gradient(135deg, #007BFF, #00CFC8);
            font-weight: bold;
            font-size: 1.2rem;
            letter-spacing: 1px;
        ">
            <h4 class="mb-0"><i class="fas fa-list-alt"></i> Category List</h4>
            <a href="/admin/add_category" class="btn btn-light btn-sm shadow-sm">
                <i class="fas fa-plus"></i> Add Category
            </a>
        </div>

        <!-- Table -->
        <div class="card-body table-responsive">
            <table id="categoryTable" class="table table-bordered table-hover align-middle text-center">
                <thead style="background: linear-gradient(135deg, #343a40, #495057); color: white;">
                    <tr>
                        <th>#</th>
                        <th>Category Image</th>
                        <th>Language English</th>
                        <th>Language Hindi</th>
                        <th>Language Marathi</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% if (categories.length > 0) { %>
                        <% categories.forEach(function(category, index) { %>
                            <tr>
                                <td><%= index + 1 %></td>
                                <td>
                                    <img src="/uploads/<%= category.category_image %>" 
                                         alt="<%= category.category_name_en %>" 
                                         class="img-thumbnail border-0 shadow-sm" 
                                         style="width:80px; height:auto; border-radius:8px;">
                                </td>
                                <td><%= category.category_name_en %></td>
                                <td><%= category.category_name_hi %></td>
                                <td><%= category.category_name_mr %></td>
                                <td>
                                   
                                    <a href="/admin/delete_category/<%= category.category_id %>" 
                                       class="btn btn-danger btn-sm shadow-sm"
                                       onclick="return confirm('Are you sure you want to delete this category?')">
                                       <i class="fas fa-trash"></i> Delete
                                    </a>
                                </td>
                            </tr>
                        <% }) %>
                    <% } else { %>
                        <tr>
                            <td colspan="6" class="text-muted">No categories found</td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
    </div>
</div>

<%- include("footer") %>

<!-- Initialize DataTable -->
<script>
$(document).ready(function () {
    $('#categoryTable').DataTable({
        "paging": true,
        "lengthMenu": [5, 10, 25, 50],
        "pageLength": 5,
        "ordering": true,
        "order": [[0, 'asc']],
        "language": {
            "search": "üîç Search:",
            "lengthMenu": "Show _MENU_ entries",
            "info": "Showing _START_ to _END_ of _TOTAL_ categories",
            "paginate": {
                "first": "First",
                "last": "Last",
                "next": "Next",
                "previous": "Prev"
            }
        }
    });
});
</script>
